/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/

#include <stdio.h>
#include <stdint.h>
#include <stdlib.h>

long int gcd( long int a, long int b ) {
	long int tmp;
	if( a < 0L )
		a = -a;
	if( b < 0L )
		b = -b;
	while( b != 0 ) {
		tmp = a;
		a = b;
		b = tmp % b;
	}
	return a;
}

/**
* Computes the gcd of a and b
*
* @param a       long int
* @param b       long int
* @return        gcd(a, b)
*
*/

void testEqual(int testNo, long int a, long int b, long int expected) {
	long result = gcd( a, b );
	if( result == expected ) {
		printf( "test %d:  %ld %ld -> %ld ok\n", testNo, a, b, expected );
	} else {
		printf( "test %d:  %ld %ld -> %ld FAIL\n", testNo, a, b, result );
	}
}
    
int main(void) {
	testEqual( 1, 14L, 35L, 7L );
	testEqual( 2, 0L, 0L, 0L );
	testEqual( 3, 1L, 0L, 1L );
	testEqual( 4, 0L, 1L, 1L );
	testEqual( 5, 6L, 4L, 2L );
	testEqual( 6, 6L, -4L, 2L );
	testEqual( 7, -6L, -4L, 2L );
	testEqual( 8, 15L, 20L, 5L );
	testEqual( 9, 20L, 15L, 5L );
	testEqual( 10, 35L, -21L, 7L );
	testEqual( 11, 48L, 18L, 6L );
	testEqual( 12, 0L, 1L<<53, 1L<<53 );
	long int A = 1L << 53;
	long int B = 3491832L;
	testEqual( 13, A, B, 8L );
	return 0;
}


